<div class="card" *ngIf="!isLoading && brand !== undefined">
  <div class="header">
    <h2 class="has-activity-badge">Edit Brand: <span class="font-italic">{{brand.title}}</span></h2>
    <create-updated-at-by class="has-activity-badge" [collection]="brand"></create-updated-at-by>
    <header-activity-badge [state]="brand.disabled"></header-activity-badge>
  </div>
</div>
<div class="card" *ngIf="!isLoading && brand !== undefined">
  <div class="body">
    <div class="row">
      <div class="col-md-2">
        <mat-checkbox color="primary"
                      [checked]="!brand.disabled"
                      (change)="brand.disabled = !brand.disabled">
          Active
        </mat-checkbox>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-6">
        <mat-form-field class="full-width">
          <input matInput placeholder="Title" [(ngModel)]="brand.title" [value]="brand.title" required trim="blur">
        </mat-form-field>
        <mat-form-field class="full-width">
          <input matInput placeholder="Brand Code" [(ngModel)]="brand.brandCode" [value]="brand.brandCode" required trim="blur">
          <mat-hint class="col-red" *ngIf="brand.brandCode && brand.brandCode.length && !isValidBrandCode()">Brand Code should not contain spaces</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-6">
        <mat-form-field class="full-width">
            <input matInput placeholder="Site Server Url" [(ngModel)]="brand.siteServerEndPoint" [value]="brand.siteServerEndPoint" trim="blur">
        </mat-form-field>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <mat-form-field class="full-width">
          <input matInput placeholder="Spotlight Url" [(ngModel)]="brand.spotlightEndpoint" [value]="brand.spotlightEndpoint" trim="blur">
        </mat-form-field>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-md-12">
        <mat-form-field class="full-width">
          <input matInput placeholder="Spotlight Api Key" [(ngModel)]="brand.spotlightApiKey" [value]="brand.spotlightApiKey" trim="blur">
        </mat-form-field>
      </div>
    </div>
  </div>
</div>
<div *ngIf="!isLoading && getDataError && getDataError.length > 0">
  Failed to load brand data
</div>

<action-buttons
  #actionButtons
  *ngIf="!isLoading && brand !== undefined"
  [validateHandler]="isValidForm"
  [fieldOrItemName]="'title'"
  [collection]="brand"
  (actionsEmitter)="actionsHandler($event);"
></action-buttons>
